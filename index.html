<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="icon" href="Images/asteroid.ICO" type="image/gif" sizes="16x16">
<link rel="stylesheet" href="style.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<title>Asteroids Game</title>
</head>
<body>
	<div id="wrapper">
		  <h1>Asteroids</h1>
		<div class="container">
			<nav class="navbar navbar-expand-lg navbar-dark bg-dark" id="top-nav">
				<button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-expanded="false">
					<span class="navbar-toggler-icon"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
					<div class="navbar-nav">
						<li><a class="nav-item nav-link active" href="index.html">Play the Game</a></li>
						<li><a class="nav-item nav-link" href="Controls.html">Controls</a></li>
						<li><a class="nav-item nav-link" href="Team.html">Meet the Team</a></li>
					</div>
				</div>
			</div>
		<br/>
	<div class="row">
		<div class="col-sm-12">
		  <h2>Enjoy the Game!</h2>	  	
			<div class="fixed text-dark text-sm" style="user-select: none; margin-left: 0.5rem; margin-top: 0.25rem;">
			  <span>
				Score:
			  </span>
			  <span id="scoreEl">
				0
			  </span>
			</div>
			<div id="modalEl" class="fixed" style=" display: flex; inset: 0; justify-content: center; justify-items: center;">
			  <div class="bg-dark max-w-md w-50 p-6 text-center">
				<h1 id="bigScore" class="text-white" style="line-height: 1; font-size: 2.25rem; font-weight: bold;">0</h1>
				<p class="text-sm text-white" style="font-weight: 700; margin-bottom: 1rem;">Points</p>
				<div>
				  <button id="startGameBtn" class="btn btn-primary">Start Game</button>
				</div>
			  </div>
			</div>
		  <canvas width="1080" height="720"></canvas>
		</div>
	</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<script>

const canvas = document.querySelector('canvas');
const c = canvas.getContext('2d');

const scoreEl = document.querySelector('#scoreEl');
const startGameButton = document.querySelector('#startGameBtn');
const modalEl = document.querySelector('#modalEl');
const bigScore = document.querySelector('#bigScore');

class Player {
  constructor(x, y, radius, color) {
    this.x = x;
    this.y = y;
    this.radius = radius;
    this.color = color;
  }

  draw() {
    c.beginPath();
    c.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);
    c.fillStyle = this.color;
    c.fill();
  }
}
	
const x = canvas.width / 2;
const y = canvas.height / 2;

let player;

function init() {
  player = new Player(x, y, 10, 'white');
//   Init Arrays Here
  score = 0;
  scoreEl.innerHTML = score;
  bigScore.innerHTML = score;
}
	
let isPaused = false
let animationId;
let score = 0;
	
function animate() {
  if (isPaused) { return; }
  animationId = requestAnimationFrame(animate)
  c.fillStyle = 'rgba(30, 30, 30, 0.1)'
  c.fillRect(0, 0, canvas.width, canvas.height)
  player.draw();
  
	// ForEach functions start here
}

// Event Listeners
addEventListener('click', (event) => {
  let angle = calculateAngle(player.x, player.y, event.clientX, event.clientY)
  let velocity = { x: Math.cos(angle * Math.PI / 180) * 5, y: Math.sin(angle * Math.PI / 180) * 5 }
});

startGameButton.addEventListener('click', (event) => {
  init();
// call animate function
  animate();
// call other functions

// modal popup 	
  modalEl.style.display = 'none'
})

document.body.onkeyup = function (e) {
  if (e.key == " " ||
    e.code == "Space" ||
    e.keyCode == 32
  ) {
    isPaused = !isPaused;
    if (!isPaused) {
      animate();
    }
  }
}
</script>
</body>
</html>
